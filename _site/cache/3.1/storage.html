<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="Learn how to add support for new storages">
<title>Add new storages | Opis Cache</title>
    <link href="/assets/img/favicon.png" rel="shortcut icon">
<link rel="stylesheet" href="/assets/css/flatly-theme.min.css">
<link href="/assets/css/font-awesome.css" rel="stylesheet">
<link href="/assets/css/syntax.css" rel="stylesheet">
<link href="/assets/css/prism-github.css" rel="stylesheet">
<link href="/assets/css/project.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css" />
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.ie.min.css" />
    <![endif]-->
    <!--[if lt IE 9]>
<script src="/assets/js/html5shiv.js"></script>
<script src="/assets/js/respond.min.js"></script>
<![endif]-->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/assets/js/jquery-1.11.0.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/prism.js"></script>
</head>
<body>
    <div class="github-fork-ribbon-wrapper right hidden-sm hidden-xs">
        <div class="github-fork-ribbon" style="background-color: #f80">
            <a href="https://github.com/opis/cache">Fork me on GitHub</a>
        </div>
    </div>
    <header id="header" class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
                <img src="/assets/img/opis-gs-100.png" class="img-responsive opis-inline-logo">
                <a href="/cache/3.1" class="navbar-brand">
                    <strong>
                        Cache
                    </strong>
                </a>
                <button data-target="#navbar-main" data-toggle="collapse" type="button" class="navbar-toggle">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <nav id="navbar-main" class="collapse navbar-collapse navbar-right">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/" title="Main page">
                            <span class="fa fa-home"></span> Home
                        </a>
                    </li>
                    <li class="dropdown hidden-md hidden-lg">
    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
        <span class="fa fa-file-text"></span> Documentation <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
            <li><a href="/cache/3.1/index" title="Getting started with Opis Cache">About</a></li>
            <li><a href="/cache/3.1/use" title="Learn how to use the library">Using the library</a></li>
            <li class="active"><a href="/cache/3.1/storage" title="Learn how to add support for new storages">Add new storages</a></li>
    </ul>
</li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="fa fa-cogs"></span> Components <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/cache/3.1">Cache</a></li>
                            <li><a href="/closure/2.3">Closure</a></li>
                            <li><a href="/config/2.1">Config</a></li>
                            <li><a href="/container/2.3">Container</a></li>
                            <li><a href="/database/3.6">Database</a></li>
                            <li><a href="/events/4.1">Events</a></li>
                            <li><a href="/http/2.0">HTTP</a></li>
                            <li><a href="/http-routing/4.0">HTTP Routing</a></li>
                            <li><a href="/routing/4.1">Routing</a></li>
                            <li><a href="/session/3.1">Session</a></li>
                            <li><a href="/view/4.1">View</a></li>
                        </ul>
                    </li>
<li class="dropdown">
    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
        <span class="fa fa-tags"></span> Versions <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
        <li><a href="/cache/3.1">Latest version (3.1)</a></li>
        <li><a href="/cache/2.3">Version 2.3</a></li>
    </ul>
</li>
                    <li class="hidden-md hidden-lg">
                        <a href="https://github.com/opis/cache" title="Github page">
                            <span class="fa fa-github fa-lg"></span> GitHub
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <section>
        <div class="container">
            <div class="row">
                <div class="col-md-4 hidden-xs hidden-sm">
                        <div class="list-group">
        <a href="/cache/3.1/index" class="list-group-item">
            <h4 class="list-group-item-heading">About</h4>
            <p class="list-group-item-text text-muted">
                Getting started with Opis Cache
            </p>
        </a>
        <a href="/cache/3.1/use" class="list-group-item">
            <h4 class="list-group-item-heading">Using the library</h4>
            <p class="list-group-item-text text-muted">
                Learn how to use the library
            </p>
        </a>
        <a href="/cache/3.1/storage" class="list-group-item active">
            <h4 class="list-group-item-heading">Add new storages</h4>
            <p class="list-group-item-text text-muted">
                Learn how to add support for new storages
            </p>
        </a>
</div>
                </div>
                <div class="col-md-8 col-sm-12">
                    <h1 id="add-new-storages">Add new storages</h1>
<p>Creating a new storage type is simply a matter of declaring a new class 
that implements the <code>Opis\Cache\StorageInterface</code> interface.</p>
<p>The interface has five methods that need to be implemented in order to have 
a fully functional cache storage.</p><pre><code class="language-php">namespace Opis\Cache;

interface StorageInterface
{
    public function read($key);
    
    public function write($key, $value, $ttl = 0);
    
    public function delete($key);
    
    public function has($key);
    
    public function clear();
  
}
</code></pre>
<h4 id="the-write-method">The <em>write</em> method</h4>
<p>This methods takes two arguments representing a key-value pair and optionally 
a third argument representing the amount of time(expressed in seconds) remained until the cache expires. 
If <code>0 (zero)</code> is passed as a third argument, the cache will never expire. 
This method must return true if the value was successfully stored at the specified key or false otherwise.</p>
<h4 id="the-read-method">The <em>read</em> method</h4>
<p>This method takes a single argument representing the key used to store the cached content. 
If there is no associated content with the specified key, the method must return <code>false</code>. 
If there is content associated with the specified key, then the content must be first removed 
from cache, after which the method must return <code>false</code>. 
Otherwise the method returns the content stored at the specified key.</p>
<h4 id="the-has-method">The <em>has</em> method</h4>
<p>This method takes a single argument representing the key that needs to be checked. 
If there is no cache content associated with the specified key, or if the cache content has expired, 
then the method must return <code>false</code>. Otherwise this method returns <code>true</code>.</p>
<h4 id="the-delete-method">The <em>delete</em> method</h4>
<p>This method takes a single argument representing the key that needs to be deleted. 
If there is no content associated with this key or if the content could not be deleted, 
then this method must return <code>false</code>. Otherwise this method returns <code>true</code>.</p>
<h4 id="the-clear-method">The <em>clear</em> method</h4>
<p>This method takes no arguments. When this method is called, all cached content stored by 
the current storage must be deleted. 
If the deletion succeed, then this method returns <code>true</code> otherwise it returns <code>false</code>.</p>
<ul class="pager">
        <li class="previous"><a href="/cache/3.1/use" title="Using the library">&larr; Back</a></li>
</ul>
                </div>
            </div>
        </div>
    </section>
    <a href="#0" id="back-to-top">
    <span class="fa fa-arrow-up"></span>
</a>
<script>
    (function($){
        $(document).ready(function(){
            var visible = false;
            $(window).scroll(function(){
                var top = $(this).scrollTop();
                if (top >= 100 && !visible) {
                    visible = true;
                    $('#back-to-top').fadeIn().show();
                }
                if(top < 100 && visible){
                    visible = false;
                    $('#back-to-top').fadeOut();
                }
            });
            $('#back-to-top').click(function(){
                $('html, body').animate({scrollTop : 0},800);
                return false;
            });
        });
        $('h2[id],h3[id],h4[id],h5[id],h6[id]').each(function () {
            var child = $('<a href="#' + this.getAttribute('id') + '" class="link-anchor"><span class="fa fa-link"></span></a>');
            this.appendChild(child.get(0));
        });
        $('[data-toggle=tooltip]').tooltip();
    })(jQuery);
</script>
    <footer class="text-center text-muted">
        Copyright &copy; 2014-2016 The Opis Project. All rights reserved.
    </footer>
</body>
</html>
